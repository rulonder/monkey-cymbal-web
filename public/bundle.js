!function e(t,n,a){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(i)return i(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n||e)},u,u.exports,e,t,n,a)}return n[r].exports}for(var i="function"==typeof require&&require,r=0;r<a.length;r++)o(a[r]);return o}({1:[function(e,t,n){t.exports={apiKey:"AIzaSyBdMmfbBWZEM9O6isRThMQTiPJfXwXUUyE",authDomain:"monkey-ae084.firebaseapp.com",databaseURL:"https://monkey-ae084.firebaseio.com",projectId:"monkey-ae084",storageBucket:"monkey-ae084.appspot.com",messagingSenderId:"354718688827"}},{}],2:[function(e,t,n){function a(){firebase.database().ref("petitions/").push({user:g.user.email,date:firebase.database.ServerValue.TIMESTAMP,action:"play it"})}function o(){document.getElementById("unloggedContainer").style.display="none",document.getElementById("loggedContainer").style.display="flex",u(),document.getElementById("container_button").className=document.getElementById("container_button").className.replace("hidder","")}function i(){u(),document.getElementById("loggedContainer").style.display="none",document.getElementById("unloggedContainer").style.display="flex",document.getElementById("container_button").className+=" hidder"}function r(e){document.getElementById(e).style.display="none";var t=document.getElementById(e.replace("container","selector"));t.className=t.className.replace("activated","").trim()}function s(e){document.getElementById(e).style.display="flex",document.getElementById(e.replace("container","selector")).className+=" activated"}function c(){h.forEach(r),s("container_user")}function d(){h.forEach(r),s("container_graph"),f()}function u(){h.forEach(r),s("container_button")}function l(){document.getElementById("AppContent").style.display="none",document.getElementById("AuthContent").className="";var e=g.ui,t={callbacks:{signInSuccess:function(e,t,n){return console.log("login sucess"),document.getElementById("AppContent").style.display="",document.getElementById("AuthContent").className+=" hidden",!1},uiShown:function(){}},credentialHelper:firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM,queryParameterForWidgetMode:"mode",signInSuccessUrl:"",signInFlow:"popup",signInOptions:[firebase.auth.GoogleAuthProvider.PROVIDER_ID],tosUrl:"<your-tos-url>"};e.start("#firebaseui-auth-container",t)}function m(){firebase.auth().signOut()}function f(){document.getElementById("measurements").innerHTML="",firebase.database().ref("measurements/temp").orderByChild("date").limitToLast(100).on("value",function(e){var t=[];e.forEach(function(e){t.push(e.val())}),g.data=t,p(g.data,"measurements")})}function p(e,t){var n=document.getElementById(t),a=n.getBoundingClientRect().width,o=n.getBoundingClientRect().height,i={top:10,right:10,bottom:10,left:15},r=a-i.left-i.right,s=o-i.top-i.bottom,c=d3.select("#"+t).append("div").classed("svg-container",!0).append("svg").attr("viewBox","0 0 "+r+" "+s).attr("preserveAspectRatio","xMidYMid").attr("width",r).attr("height",s).append("g").attr("transform","translate( "+i.left+","+i.top+")"),d=d3.scaleLinear().domain([0,d3.max(e,function(e){return e.value})+2]).range([s-40,40]),u=d3.scaleTime().domain([d3.min(e,function(e){return new Date(e.date)}),d3.max(e,function(e){return new Date(e.date)})]).range([40,r-40]),l=d3.axisBottom(u).ticks(3).tickFormat(d3.timeFormat("%m/%d %H:%M")),m=d3.axisLeft(d).ticks(6),f=d3.line().x(function(e){return u(new Date(e.date))}).y(function(e){return d(e.value)});c.append("path").data([e]).attr("class","line").attr("d",f),c.append("g").attr("class","axis").attr("transform","translate(0,"+(s-40)+")").call(l),c.append("g").attr("class","axis").attr("transform","translate(40,0)").call(m)}const g={};var y=e("./config.firebase.js");firebase.initializeApp(y);var h=["container_button","container_user","container_graph"];initApp=function(){g.ui=new firebaseui.auth.AuthUI(firebase.auth()),firebase.auth().onAuthStateChanged(function(e){if(console.log("USER is"+e),e){g.user=e;var t=e.displayName,n=e.photoURL;document.getElementById("username").innerText=t,document.getElementById("userimg").src=n,o()}else i()},function(e){console.log(e)}),window.requestToMOnkey=a,window.logout=m,window.select_button_tab=u,window.select_button_graph=d,window.select_user_tab=c,window.openLoginUI=l},window.addEventListener("load",function(){initApp()})},{"./config.firebase.js":1}]},{},[2]);